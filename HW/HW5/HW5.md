 <img src="HW5.assets/image-20230612154333904.png" alt="image-20230612154333904" style="zoom:67%;" />

证明：

考察调度`S`的优先图`P(S)`，对于`P(S)`中任意一条边`e: Ti->Tj`，`Ti`中存在操作`A1`，`Tj`中存在操作`A2`，使得`A1`在`A2`之前，且`A1`和`A2`是冲突操作。由于`Ti`和`Tj`都是两段式事务，所以`Ti`在`A2`之前就已经完成所有操作并且释放了所有的锁，由此可知`Ti`的最后一个操作（记为`ti`）早于`Tj`的最后一个操作（记为`tj`），记为`ti<tj`。

用反证法，假设调度`S`中的所有事务都是两段式事务，但是其`P(S)`中存在环`T1->T2->T3...->Tk->T1`，由之前的讨论可知`t1<t2<t2<...<t1`，推出`t1<t1`，矛盾。因此`P(S)`中不存在环，则`S`满足冲突可串性，从而推出`S`是可串化调度。

